<form class="interval" accept-charset="UTF-8" role="form">
<p class="input-group">
    <input placeholder="Since" type="text" class="form-control" datepicker-options="dateOptions"  uib-datepicker-popup ng-model="startDate" is-open="datepopupInitOpened" ng-required="true" close-text="Close" />
    <span class="input-group-btn">
      <button type="button" class="btn btn-default" ng-click="openInitDate()"><i class="glyphicon glyphicon-calendar"></i></button>
  </span>
  <input placeholder="Until" type="text" class="form-control" datepicker-options="dateOptions"  uib-datepicker-popup ng-model="endDate" is-open="datepopupEndOpened" ng-required="true" close-text="Close" ng-change="changeIntervalSpendings()"/>
    <span class="input-group-btn">
      <button type="button" class="btn btn-default" ng-click="openEndDate()"><i class="glyphicon glyphicon-calendar"></i></button>
  </span>
</p>
</form>


<div class="spending" ng-controller="SpendingController">
<button class="btn btn-primary" ng-click="create()">Add new spending</button>
<table class="row-border table table-condensed table-responsive table-hover table-striped">
    <thead>
    	<tr>
    	   <th>Name</th>
           <th>Quantity</th>
           <th>Date</th>
           <th>Types</th>
           <th></th>
        </tr>
    </thead>
	<tbody>
	    <tr ng-repeat="spending in spendings.data">
	       <td>{{spending.name}}</td>
	       <td>{{spending.quantity | currency }}</td>
		   <td>{{spending.date | date: 'fullDate'}}</td>
		   <td ng-repeat="type in spending.types">
		   		<span ng-bind="type.name"></span>

		   </td>
		   <td>
                    <button class="btn btn-warning btn-xs" ng-click="update(spending)" >
                        <span class="glyphicon glyphicon-pencil"></span>
                   </button>
                   <button class="btn btn-danger btn-xs" ng-click="delete(spending)" >
                        <span class="glyphicon glyphicon-trash"></span>
                   </button>
		   </td>
		 </tr>
	</tbody>
</table>



</div>
